import*as e from"https://unpkg.com/three@0.126.1/build/three.module.js";import{OrbitControls as t}from"https://unpkg.com/three@0.126.1/examples/jsm/controls/OrbitControls.js";import{Water as n}from"https://unpkg.com/three@0.126.1//examples/jsm/objects/Water";import{Sky as o}from"https://unpkg.com/three@0.126.1//examples/jsm/objects/Sky";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,r)=>{const a=new URL(e,o);if(self[t].moduleMap[a])return n(self[t].moduleMap[a]);const s=new Blob([`import * as m from '${a}';`,`${t}.moduleMap['${a}']=m;`],{type:"text/javascript"}),m=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){r(new Error(`Failed to import: ${e}`)),i(m)},onload(){n(self[t].moduleMap[a]),i(m)}});document.head.appendChild(m)})),self[t].moduleMap={}}}("/assets/");let i,r,a,s,m,l,c;function d(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}console.log("hello"),function(){i=document.querySelector("#container"),s=new e.WebGL1Renderer,s.setPixelRatio(window.devivePixelRatio),s.setSize(window.innerWidth,innerHeight),s.toneMapping=e.ACESFilmicToneMapping,i.appendChild(s.domElement),a=new e.Scene,r=new e.PerspectiveCamera(55,window.innerWidth/window.innerHeight,1,2e4),r.position.set(30,30,100),c=new e.Vector3;const u=new e.PlaneGeometry(1e4,1e4);l=new n(u,{textureWidth:512,textureHeight:512,waterNormals:(new e.TextureLoader).load("waterNormals.jpg",(function(t){t.wrap5=t.wrapT=e.RepeatWrapping})),sunDirection:new e.Vector3,sunColor:15333140,waterColor:2604537,distortionScale:3.7}),l.rotation.x=-Math.PI/2,a.add(l);const p=new o;p.scale.setScalar(45e4),a.add(p);const w=p.material.uniforms;w.turbidity.value=100,w.rayleigh.value=2,w.mieCoefficient.value=.005,w.mieDirectionalG.value=.8,w.exposure=4,console.log(w);const h={elevation:2,azimuth:180},f=new e.PMREMGenerator(s);(function(){const t=e.MathUtils.degToRad(h.azimuth),n=e.MathUtils.degToRad(h.azimuth);c.setFromSphericalCoords(1,t,n),p.material.uniforms.sunPosition.value.copy(c),l.material.uniforms.sunDirection.value.copy(c).normalize(),a.environment=f.fromScene(p).texture})(),m=new t(r,s.domElement),m.maxPolarAngle=.495*Math.PI,m.target.set(0,10,0),m.minDistance=40,m.maxDistance=200,m.update(),window.addEventListener("resize",d)}(),function e(){requestAnimationFrame(e),performance.now(),l.material.uniforms.time.value+=1/60,s.render(a,r)}();
